{
  "info": {
    "name": "vibNode",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "vibgyor-node-corrected-collection",
    "description": "Complete API collection for VibgyorNode backend with all endpoints correctly organized.\n\nüì∏ Stories Feature (Simplified - 9 endpoints):\n- Image/Video/Text stories with 24h auto-expiration\n- Privacy controls: public/followers/close_friends\n- @mentions, hashtag search, view tracking\n- Replies (DM/public), reporting, analytics\n- NO notifications, reactions, polls, highlights\n\nüíë Dating Feature:\n- Profile management with photos/videos\n- Preferences & discovery filters\n- Like/dislike, matches, comments\n- Safety features (report/block)\n\nüîê Authentication:\n- Admin, SubAdmin, User roles\n- JWT access/refresh tokens\n- Phone & Email OTP verification\n\nüí¨ Enhanced Features:\n- Real-time chat & messaging\n- Video/Audio calls (WebRTC)\n- Posts, Search, Notifications\n- User management & moderation"
  },
  "item": [
    {
      "name": "System",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{BASE_URL}}/health"
          }
        },
        {
          "name": "Root",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{BASE_URL}}/"
          }
        },
        {
          "name": "API Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{BASE_URL}}/api/v1/info"
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Authentication",
          "item": [
            {
              "name": "Send OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"9998887777\",\n  \"countryCode\": \"+91\"\n}"
                },
                "url": "{{BASE_URL}}/admin/send-otp"
              }
            },
            {
              "name": "Verify OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"9998887777\",\n  \"otp\": \"123456\"\n}"
                },
                "url": "{{BASE_URL}}/admin/verify-otp"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "pm.environment.set('ADMIN_ACCESS_TOKEN', json.data && json.data.accessToken ? json.data.accessToken : '');",
                      "pm.environment.set('ADMIN_REFRESH_TOKEN', json.data && json.data.refreshToken ? json.data.refreshToken : '');"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Resend OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"9998887777\"\n}"
                },
                "url": "{{BASE_URL}}/admin/resend-otp"
              }
            },
            {
              "name": "Refresh Access Token",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"refreshToken\": \"{{ADMIN_REFRESH_TOKEN}}\"\n}"
                },
                "url": "{{BASE_URL}}/admin/auth/refresh-token",
                "description": "Refresh the access token using a valid refresh token. Returns new access and refresh tokens."
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.accessToken) {",
                      "  pm.environment.set('ADMIN_ACCESS_TOKEN', json.data.accessToken);",
                      "}",
                      "if (json.data && json.data.refreshToken) {",
                      "  pm.environment.set('ADMIN_REFRESH_TOKEN', json.data.refreshToken);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get Admin Profile",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/me"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data._id) {",
                      "  pm.environment.set('ADMIN_ID', json.data._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            }
          ]
        },
        {
          "name": "User Management",
          "item": [
            {
              "name": "Get All Users",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/users?page=1&limit=10&status=active"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.users && json.data.users.length > 0) {",
                      "  pm.environment.set('USER_ID', json.data.users[0]._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get User Details",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/users/{{USER_ID}}"
              }
            },
            {
              "name": "Activate User",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"isActive\": true\n}"
                },
                "url": "{{BASE_URL}}/admin/users/{{USER_ID}}/status"
              }
            },
            {
              "name": "Deactivate User",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"isActive\": false\n}"
                },
                "url": "{{BASE_URL}}/admin/users/{{USER_ID}}/status"
              }
            }
          ]
        },
        {
          "name": "User Verification",
          "item": [
            {
              "name": "Get Pending Verifications",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/users/verifications/pending?page=1&limit=10"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.pendingVerifications && json.data.pendingVerifications.length > 0) {",
                      "  pm.environment.set('PENDING_VERIFICATION_USER_ID', json.data.pendingVerifications[0]._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Approve User Verification",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/users/{{PENDING_VERIFICATION_USER_ID}}/verification/approve"
              }
            },
            {
              "name": "Reject User Verification",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"rejectionReason\": \"Document quality is not clear\"\n}"
                },
                "url": "{{BASE_URL}}/admin/users/{{PENDING_VERIFICATION_USER_ID}}/verification/reject"
              }
            }
          ]
        },
        {
          "name": "Report Management",
          "item": [
            {
              "name": "Get Pending Reports",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/reports/pending?page=1&limit=10"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.pendingReports && json.data.pendingReports.length > 0) {",
                      "  pm.environment.set('PENDING_REPORT_ID', json.data.pendingReports[0]._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get Report Details",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/reports/{{PENDING_REPORT_ID}}"
              }
            },
            {
              "name": "Update Report Status",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"status\": \"resolved\",\n  \"actionTaken\": \"warning\",\n  \"reviewNotes\": \"User has been warned\",\n  \"priority\": \"medium\"\n}"
                },
                "url": "{{BASE_URL}}/admin/reports/{{PENDING_REPORT_ID}}/status"
              }
            },
            {
              "name": "Get Report Stats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/reports/stats"
              }
            }
          ]
        },
        {
          "name": "SubAdmin Management",
          "item": [
            {
              "name": "Get All SubAdmins",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/subadmins?page=1&limit=10&status=active"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.subAdmins && json.data.subAdmins.length > 0) {",
                      "  pm.environment.set('SUBADMIN_ID', json.data.subAdmins[0]._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get SubAdmin Details",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/subadmins/{{SUBADMIN_ID}}"
              }
            },
            {
              "name": "Toggle SubAdmin Status",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"isActive\": true\n}"
                },
                "url": "{{BASE_URL}}/admin/subadmins/{{SUBADMIN_ID}}/status"
              }
            }
          ]
        },
        {
          "name": "Content Moderation",
          "item": [
            {
              "name": "Get Flagged Content",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/content-moderation/flagged"
              }
            },
            {
              "name": "Get Pending Reviews",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/content-moderation/pending"
              }
            },
            {
              "name": "Get Queue Stats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/content-moderation/queue-stats"
              }
            },
            {
              "name": "Review Content",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"action\": \"approve\",\n  \"notes\": \"Content meets guidelines\"\n}"
                },
                "url": "{{BASE_URL}}/admin/content-moderation/{{MODERATION_ID}}/review"
              }
            }
          ]
        },
        {
          "name": "Analytics",
          "item": [
            {
              "name": "Platform Overview",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/analytics/platform-overview?period=7d"
              }
            },
            {
              "name": "Content Analytics",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/analytics/content?period=7d"
              }
            },
            {
              "name": "Moderation Analytics",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/analytics/moderation?period=7d"
              }
            },
            {
              "name": "User Analytics",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/admin/analytics/users/{{USER_ID}}?period=30d"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "SubAdmin",
      "item": [
        {
          "name": "Authentication",
          "item": [
            {
              "name": "Send OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"8887776666\",\n  \"countryCode\": \"+91\"\n}"
                },
                "url": "{{BASE_URL}}/subadmin/auth/send-otp"
              }
            },
            {
              "name": "Verify OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"8887776666\",\n  \"otp\": \"123456\"\n}"
                },
                "url": "{{BASE_URL}}/subadmin/auth/verify-otp"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "pm.environment.set('SUBADMIN_ACCESS_TOKEN', json.data && json.data.accessToken ? json.data.accessToken : '');",
                      "pm.environment.set('SUBADMIN_REFRESH_TOKEN', json.data && json.data.refreshToken ? json.data.refreshToken : '');"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Resend OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"8887776666\"\n}"
                },
                "url": "{{BASE_URL}}/subadmin/auth/resend-otp"
              }
            },
            {
              "name": "Refresh Access Token",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"refreshToken\": \"{{SUBADMIN_REFRESH_TOKEN}}\"\n}"
                },
                "url": "{{BASE_URL}}/subadmin/auth/refresh-token",
                "description": "Refresh the access token using a valid refresh token. Returns new access and refresh tokens."
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.accessToken) {",
                      "  pm.environment.set('SUBADMIN_ACCESS_TOKEN', json.data.accessToken);",
                      "}",
                      "if (json.data && json.data.refreshToken) {",
                      "  pm.environment.set('SUBADMIN_REFRESH_TOKEN', json.data.refreshToken);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get SubAdmin Profile",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/me"
              }
            },
            {
              "name": "Update SubAdmin Profile",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "name",
                      "value": "SubAdmin User",
                      "type": "text"
                    },
                    {
                      "key": "email",
                      "value": "subadmin@example.com",
                      "type": "text"
                    },
                    {
                      "key": "file",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": "{{BASE_URL}}/subadmin/profile"
              }
            }
          ]
        },
        {
          "name": "User Management",
          "item": [
            {
              "name": "Get All Users",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/users?page=1&limit=10&status=active"
              }
            },
            {
              "name": "Get User Stats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/users/stats"
              }
            },
            {
              "name": "Get User Details",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/users/{{USER_ID}}"
              }
            },
            {
              "name": "Toggle User Status",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"isActive\": true\n}"
                },
                "url": "{{BASE_URL}}/subadmin/users/{{USER_ID}}/status"
              }
            }
          ]
        },
        {
          "name": "User Verification",
          "item": [
            {
              "name": "Get Pending Verifications",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/users/verifications/pending?page=1&limit=10"
              }
            },
            {
              "name": "Approve User Verification",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/users/{{USER_ID}}/verification/approve"
              }
            },
            {
              "name": "Reject User Verification",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"rejectionReason\": \"Document quality is not clear\"\n}"
                },
                "url": "{{BASE_URL}}/subadmin/users/{{USER_ID}}/verification/reject"
              }
            }
          ]
        },
        {
          "name": "Report Management",
          "item": [
            {
              "name": "Get Pending Reports",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/reports/pending?page=1&limit=10"
              }
            },
            {
              "name": "Get Report Details",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/reports/{{PENDING_REPORT_ID}}"
              }
            },
            {
              "name": "Update Report Status",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"status\": \"resolved\",\n  \"actionTaken\": \"warning\",\n  \"reviewNotes\": \"User has been warned\",\n  \"priority\": \"medium\"\n}"
                },
                "url": "{{BASE_URL}}/subadmin/reports/{{PENDING_REPORT_ID}}/status"
              }
            },
            {
              "name": "Get Report Stats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{SUBADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/subadmin/reports/stats"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "User",
      "item": [
        {
          "name": "Authentication",
          "item": [
            {
              "name": "Send Phone OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"7776665555\",\n  \"countryCode\": \"+91\"\n}"
                },
                "url": "{{BASE_URL}}/user/auth/send-otp",
                "description": "Send OTP to user's phone number for authentication"
              }
            },
            {
              "name": "Verify Phone OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"7776665555\",\n  \"otp\": \"123456\"\n}"
                },
                "url": "{{BASE_URL}}/user/auth/verify-otp"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "pm.environment.set('USER_ACCESS_TOKEN', json.data && json.data.accessToken ? json.data.accessToken : '');",
                      "pm.environment.set('USER_REFRESH_TOKEN', json.data && json.data.refreshToken ? json.data.refreshToken : '');",
                      "pm.environment.set('ACCESS_TOKEN', json.data && json.data.accessToken ? json.data.accessToken : '');",
                      "pm.environment.set('REFRESH_TOKEN', json.data && json.data.refreshToken ? json.data.refreshToken : '');"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Resend Phone OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"phoneNumber\": \"7776665555\"\n}"
                },
                "url": "{{BASE_URL}}/user/auth/resend-otp"
              }
            },
            {
              "name": "Refresh Access Token",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"refreshToken\": \"{{USER_REFRESH_TOKEN}}\"\n}"
                },
                "url": "{{BASE_URL}}/user/auth/update-access-token",
                "description": "Refresh the access token using a valid refresh token. Returns new access and refresh tokens. Can also send refresh token via cookies with key 'jwt'."
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.accessToken) {",
                      "  pm.environment.set('USER_ACCESS_TOKEN', json.data.accessToken);",
                      "  pm.environment.set('ACCESS_TOKEN', json.data.accessToken);",
                      "}",
                      "if (json.data && json.data.refreshToken) {",
                      "  pm.environment.set('USER_REFRESH_TOKEN', json.data.refreshToken);",
                      "  pm.environment.set('REFRESH_TOKEN', json.data.refreshToken);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Send Email OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"john@example.com\"\n}"
                },
                "url": "{{BASE_URL}}/user/auth/email/send-otp"
              }
            },
            {
              "name": "Verify Email OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"otp\": \"123456\"\n}"
                },
                "url": "{{BASE_URL}}/user/auth/email/verify-otp"
              }
            },
            {
              "name": "Resend Email OTP",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"john@example.com\"\n}"
                },
                "url": "{{BASE_URL}}/user/auth/email/resend-otp"
              }
            },
            {
              "name": "Get Current User",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/auth/me"
              }
            },
            {
              "name": "Get User Profile",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/auth/profile"
              }
            },
            {
              "name": "Update User Profile",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"fullName\": \"John Doe\",\n  \"username\": \"johndoe123\",\n  \"email\": \"john@example.com\",\n  \"dob\": \"1995-06-15\",\n  \"bio\": \"Love traveling and photography\",\n  \"gender\": \"male\",\n  \"pronouns\": \"he/him\",\n  \"likes\": [\"travel\", \"photography\", \"music\"],\n  \"interests\": [\"hiking\", \"coding\", \"art\"],\n  \"preferences\": {\n    \"hereFor\": \"friendship\",\n    \"primaryLanguage\": \"English\",\n    \"secondaryLanguage\": \"Hindi\"\n  },\n  \"location\": {\n    \"city\": \"Mumbai\",\n    \"country\": \"India\",\n    \"lat\": 19.0760,\n    \"lng\": 72.8777\n  }\n}"
                },
                "url": "{{BASE_URL}}/user/auth/profile",
                "description": "Update user profile with all available fields. Profile completion step auto-advances.\n\nNew Preferences Field:\n- hereFor: friendship|dating|networking|fun|serious-relationship|new-friends|chat (required)\n- primaryLanguage: From catalog languages list (required)\n- secondaryLanguage: From catalog languages list (optional)\n\nProfile Steps: basic_info ‚Üí gender ‚Üí pronouns ‚Üí likes_interests ‚Üí preferences ‚Üí location ‚Üí completed"
              }
            },
            {
              "name": "Update Profile - Preferences Step (NEW)",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"preferences\": {\n    \"hereFor\": \"friendship\",\n    \"primaryLanguage\": \"English\",\n    \"secondaryLanguage\": \"Hindi\"\n  }\n}"
                },
                "url": "{{BASE_URL}}/user/auth/profile",
                "description": "Update ONLY the preferences step (Step 5 of 7).\n\nRequired Fields:\n‚úì hereFor: Select from catalog.hereFor options\n‚úì primaryLanguage: Select from catalog.languages options\n\nOptional Fields:\n‚ö† secondaryLanguage: Can be empty or from catalog.languages\n\nThis completes the preferences step and advances to 'location' step."
              }
            },
            {
              "name": "Get Profile Step",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/auth/profile/step",
                "description": "Get current profile completion step.\n\nPossible steps:\n- basic_info (Step 1)\n- gender (Step 2)\n- pronouns (Step 3)\n- likes_interests (Step 4)\n- preferences (Step 5) ‚Üê NEW\n- location (Step 6)\n- completed (Step 7)"
              }
            },
            {
              "name": "Get Email Verification Status",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/auth/email/status"
              }
            }
          ]
        },
        {
          "name": "Catalog Management",
          "description": "Catalog management for profile dropdown options.\n\nCatalog Lists (6 total):\n1. gender - Gender options\n2. pronouns - Pronoun options  \n3. likes - User likes/hobbies\n4. interests - User interests\n5. hereFor - Purpose/intent options (NEW)\n6. languages - Language options (NEW)\n\nAccess:\n- Read: All users\n- Create/Update/Delete: Admin/SubAdmin only",
          "item": [
            {
              "name": "Get All Catalogs",
              "request": {
                "method": "GET",
                "header": [],
                "url": "{{BASE_URL}}/user/catalog",
                "description": "Get all catalog options for profile setup.\n\nReturns:\n- gender: Array of gender options\n- pronouns: Array of pronoun options\n- likes: Array of like options\n- interests: Array of interest options\n- hereFor: Array of purpose/intent options (NEW)\n- languages: Array of language options (NEW)\n- version: Catalog version number\n\nUsed in profile completion steps 2-5."
              }
            },
            {
              "name": "Get Specific Catalog - Gender",
              "request": {
                "method": "GET",
                "header": [],
                "url": "{{BASE_URL}}/user/catalog/gender",
                "description": "Get gender options from catalog. Returns array of gender options."
              }
            },
            {
              "name": "Get Specific Catalog - Languages (NEW)",
              "request": {
                "method": "GET",
                "header": [],
                "url": "{{BASE_URL}}/user/catalog/languages",
                "description": "Get available languages from catalog. Used for preferences.primaryLanguage and preferences.secondaryLanguage selection."
              }
            },
            {
              "name": "Get Specific Catalog - Here For (NEW)",
              "request": {
                "method": "GET",
                "header": [],
                "url": "{{BASE_URL}}/user/catalog/hereFor",
                "description": "Get 'here for' options from catalog. Used for preferences.hereFor selection (user intent/purpose)."
              }
            },
            {
              "name": "Create Catalog (Admin/SubAdmin)",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"genderList\": [\"male\", \"female\", \"non-binary\"],\n  \"pronounList\": [\"he/him\", \"she/her\", \"they/them\"],\n  \"likeList\": [\"music\", \"travel\", \"movies\"],\n  \"interestList\": [\"hiking\", \"photography\", \"coding\"],\n  \"hereForList\": [\"friendship\", \"dating\", \"networking\", \"fun\"],\n  \"languageList\": [\"English\", \"Hindi\", \"Spanish\", \"French\"]\n}"
                },
                "url": "{{BASE_URL}}/user/catalog",
                "description": "Create a new catalog with all lists including preferences (hereFor and languages). Only one catalog can exist - use PUT to update."
              }
            },
            {
              "name": "Update Catalog (Admin/SubAdmin)",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"genderList\": [\"male\", \"female\", \"non-binary\", \"transgender\"],\n  \"pronounList\": [\"he/him\", \"she/her\", \"they/them\", \"he/they\"],\n  \"likeList\": [\"music\", \"travel\", \"movies\", \"fitness\"],\n  \"interestList\": [\"hiking\", \"photography\", \"coding\", \"dancing\"],\n  \"hereForList\": [\"friendship\", \"dating\", \"networking\", \"fun\", \"serious-relationship\"],\n  \"languageList\": [\"English\", \"Hindi\", \"Spanish\", \"French\", \"German\", \"Chinese\"]\n}"
                },
                "url": "{{BASE_URL}}/user/catalog",
                "description": "Update existing catalog with all lists. Increments version number. Can update individual lists or all at once."
              }
            },
            {
              "name": "Add Items to Catalog (Admin/SubAdmin)",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"listType\": \"hereFor\",\n  \"items\": [\"language-exchange\", \"business\"]\n}"
                },
                "url": "{{BASE_URL}}/user/catalog/add",
                "description": "Add new items to a specific catalog list.\n\nValid listTypes:\n- gender (genderList)\n- pronouns (pronounList)\n- likes (likeList)\n- interests (interestList)\n- hereFor (hereForList) ‚Üê NEW\n- languages (languageList) ‚Üê NEW\n\nExamples:\n- Add languages: {\"listType\": \"languages\", \"items\": [\"Bengali\", \"Tamil\"]}\n- Add interests: {\"listType\": \"interests\", \"items\": [\"yoga\", \"art\"]}\n- Add hereFor: {\"listType\": \"hereFor\", \"items\": [\"business\", \"mentorship\"]}"
              }
            },
            {
              "name": "Remove Items from Catalog (Admin/SubAdmin)",
              "request": {
                "method": "PATCH",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"listType\": \"languages\",\n  \"items\": [\"Russian\"]\n}"
                },
                "url": "{{BASE_URL}}/user/catalog/remove",
                "description": "Remove items from a specific catalog list.\n\nValid listTypes:\n- gender, pronouns, likes, interests, hereFor, languages\n\nExamples:\n- Remove language: {\"listType\": \"languages\", \"items\": [\"Russian\"]}\n- Remove hereFor: {\"listType\": \"hereFor\", \"items\": [\"fun\"]}\n- Remove interests: {\"listType\": \"interests\", \"items\": [\"pets\"]}"
              }
            },
            {
              "name": "Delete Catalog (Admin/SubAdmin)",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{ADMIN_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/catalog"
              }
            }
          ]
        },
        {
          "name": "Username Management",
          "item": [
            {
              "name": "Check Username Availability",
              "request": {
                "method": "GET",
                "header": [],
                "url": "{{BASE_URL}}/user/username/available?u=testuser123"
              }
            },
            {
              "name": "Get Username Suggestions",
              "request": {
                "method": "GET",
                "header": [],
                "url": "{{BASE_URL}}/user/username/suggest?base=testuser"
              }
            }
          ]
        },
        {
          "name": "File Upload",
          "item": [
            {
              "name": "Upload Profile Picture",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "file",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": "{{BASE_URL}}/user/upload/profile-picture"
              }
            },
            {
              "name": "Upload ID Proof",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "file",
                      "type": "file",
                      "src": []
                    },
                    {
                      "key": "documentType",
                      "value": "id_proof",
                      "type": "text"
                    },
                    {
                      "key": "documentNumber",
                      "value": "DOC123456789",
                      "type": "text"
                    }
                  ]
                },
                "url": "{{BASE_URL}}/user/upload/id-proof"
              }
            }
          ]
        },
        {
          "name": "Social Features",
          "item": [
            {
              "name": "Send Follow Request",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"message\": \"Hi! I'd like to follow you.\"\n}"
                },
                "url": "{{BASE_URL}}/user/social/follow-request/{{USER_ID}}"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.success && json.data && json.data.requestId) {",
                      "  pm.environment.set('FOLLOW_REQUEST_ID', json.data.requestId);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Accept Follow Request",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/follow-request/{{FOLLOW_REQUEST_ID}}/accept"
              }
            },
            {
              "name": "Reject Follow Request",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/follow-request/{{FOLLOW_REQUEST_ID}}/reject"
              }
            },
            {
              "name": "Cancel Follow Request",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/follow-request/{{FOLLOW_REQUEST_ID}}/cancel"
              }
            },
            {
              "name": "Get Pending Follow Requests",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/follow-requests/pending?page=1&limit=20"
              }
            },
            {
              "name": "Get Sent Follow Requests",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/follow-requests/sent?page=1&limit=20&status=all"
              }
            },
            {
              "name": "Unfollow User",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/follow/{{USER_ID}}"
              }
            },
            {
              "name": "Get Followers",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/followers?page=1&limit=20"
              }
            },
            {
              "name": "Get Following",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/following?page=1&limit=20"
              }
            },
            {
              "name": "Block User",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/block/{{USER_ID}}"
              }
            },
            {
              "name": "Unblock User",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/block/{{USER_ID}}"
              }
            },
            {
              "name": "Get Blocked Users",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/blocked?page=1&limit=20"
              }
            },
            {
              "name": "Report User",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reportType\": \"spam\",\n  \"description\": \"This user is sending spam messages\",\n  \"contentType\": \"profile\",\n  \"contentId\": \"\",\n  \"contentUrl\": \"\"\n}"
                },
                "url": "{{BASE_URL}}/user/social/report/{{USER_ID}}"
              }
            },
            {
              "name": "Get User Reports",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/reports?page=1&limit=10"
              }
            },
            {
              "name": "Get Social Stats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/social/social-stats"
              }
            }
          ]
        },
        {
          "name": "User Status",
          "item": [
            {
              "name": "Update User Status",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"isOnline\": true,\n  \"status\": \"Available\",\n  \"privacySettings\": {\n    \"showOnlineStatus\": true,\n    \"showLastSeen\": true\n  }\n}"
                },
                "url": "{{BASE_URL}}/user/status"
              }
            },
            {
              "name": "Get User Status",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/status/{{USER_ID}}"
              }
            },
            {
              "name": "Get Online Users",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/status/online"
              }
            },
            {
              "name": "Get Recently Active Users",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/status/recent"
              }
            },
            {
              "name": "Get Batch User Statuses",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"userIds\": [\"{{USER_ID}}\"]\n}"
                },
                "url": "{{BASE_URL}}/user/status/batch"
              }
            },
            {
              "name": "Update Privacy Settings",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"showOnlineStatus\": true,\n  \"showLastSeen\": true\n}"
                },
                "url": "{{BASE_URL}}/user/status/privacy"
              }
            },
            {
              "name": "Get Status Stats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/status/stats"
              }
            },
            {
              "name": "Set User Offline",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"token\": \"{{USER_ACCESS_TOKEN}}\"\n}"
                },
                "url": "{{BASE_URL}}/user/status/offline"
              }
            }
          ]
        },
        {
          "name": "Message Requests",
          "item": [
            {
              "name": "Send Message Request",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/{{USER_ID}}"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.requestId) {",
                      "  pm.environment.set('MESSAGE_REQUEST_ID', json.data.requestId);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get Pending Requests",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/pending"
              }
            },
            {
              "name": "Get Sent Requests",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/sent"
              }
            },
            {
              "name": "Accept Message Request",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/{{MESSAGE_REQUEST_ID}}/accept"
              }
            },
            {
              "name": "Reject Message Request",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/{{MESSAGE_REQUEST_ID}}/reject"
              }
            },
            {
              "name": "Delete Message Request",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/{{MESSAGE_REQUEST_ID}}"
              }
            },
            {
              "name": "Get Message Request Details",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/{{MESSAGE_REQUEST_ID}}"
              }
            },
            {
              "name": "Get Message Request Stats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/stats"
              }
            },
            {
              "name": "Get Request Between Users",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/message-requests/between/{{USER_ID}}"
              }
            }
          ]
        },
        {
          "name": "Posts Management",
          "item": [
            {
              "name": "Create Post",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "content",
                      "value": "This is a test post! #vibgyor #test",
                      "type": "text"
                    },
                    {
                      "key": "caption",
                      "value": "Test caption",
                      "type": "text"
                    },
                    {
                      "key": "visibility",
                      "value": "public",
                      "type": "text",
                      "description": "public | followers | private (default: public)"
                    },
                    {
                      "key": "commentVisibility",
                      "value": "everyone",
                      "type": "text",
                      "description": "everyone | followers | none (default: everyone)"
                    },
                    {
                      "key": "location",
                      "value": "{\"name\":\"Mumbai\",\"coordinates\":{\"lat\":19.0760,\"lng\":72.8777},\"address\":\"Mumbai, Maharashtra, India\",\"placeId\":\"ChIJwe1EZjDG5zsRaYxkjY_tpF0\",\"placeType\":\"locality\",\"accuracy\":\"city\"}",
                      "type": "text",
                      "description": "Location object (JSON string): {name, coordinates: {lat, lng}, address, placeId, placeType, accuracy}"
                    },
                    {
                      "key": "hashtags",
                      "value": "[\"vibgyor\",\"test\",\"social\"]",
                      "type": "text",
                      "description": "Array of hashtags (JSON string) - auto-extracted from content but can be added explicitly"
                    },
                    {
                      "key": "mentions",
                      "value": "[]",
                      "type": "text",
                      "description": "Array of user IDs to mention (JSON string) - auto-extracted from @username in content"
                    },
                    {
                      "key": "files",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": "{{BASE_URL}}/user/posts",
                "description": "Create a new post with text, media, location, and privacy settings.\n\n**Form-Data Fields:**\n- content: Post text content (required if no media)\n- caption: Post caption/title (optional)\n- visibility: public | followers | private (default: public)\n- commentVisibility: everyone | followers | none (default: everyone)\n- location: JSON string with location details (optional)\n  - Example: {\"name\":\"Mumbai\",\"coordinates\":{\"lat\":19.0760,\"lng\":72.8777},\"address\":\"Mumbai, India\",\"placeId\":\"...\",\"placeType\":\"locality\",\"accuracy\":\"city\"}\n- hashtags: JSON array of hashtags (optional, auto-extracted from content)\n  - Example: [\"travel\",\"photography\",\"nature\"]\n- mentions: JSON array of user IDs to mention (optional, auto-extracted from @username)\n  - Example: [\"user_id_1\",\"user_id_2\"]\n- files: Image or video files (optional, max 10MB)\n\n**Location Fields:**\n- name: Location name (e.g., \"Mumbai\", \"Eiffel Tower\")\n- coordinates: {lat: number, lng: number}\n- address: Full address string\n- placeId: Google Places ID (optional)\n- placeType: locality | city | region | point_of_interest | etc.\n- accuracy: exact | approximate | city | region | country\n\n**Privacy Options:**\n- visibility: Who can see the post\n  - public: Everyone can see\n  - followers: Only followers can see\n  - private: Only you can see\n- commentVisibility: Who can comment\n  - everyone: Anyone can comment\n  - followers: Only followers can comment\n  - none: Comments disabled\n\n**Automatic Features:**\n- Hashtags (#) are auto-extracted from content\n- Mentions (@username) are auto-extracted from content\n- Post status is automatically set to 'published'\n- Media is uploaded to S3 with optimization\n\n**Response:**\n- Returns created post with ID\n- Auto-populated POST_ID environment variable"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data._id) {",
                      "  pm.environment.set('POST_ID', json.data._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get Feed Posts",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/feed?page=1&limit=20"
              }
            },
            {
              "name": "Get Current User Posts",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/user/posts/me?page=1&limit=20",
                  "host": ["{{BASE_URL}}"],
                  "path": ["user", "posts", "me"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1",
                      "description": "Page number (default: 1)"
                    },
                    {
                      "key": "limit",
                      "value": "20",
                      "description": "Results per page (default: 20)"
                    }
                  ]
                },
                "description": "Get all posts created by the current authenticated user.\n\n**Query Parameters:**\n- page: Page number (default: 1)\n- limit: Results per page (default: 20)\n\n**Returns:**\n- Array of user's own posts (published and drafts)\n- Each post includes a `lastComment` field showing the newest comment\n- Total count\n- Pagination metadata\n\n**Response Structure:**\n```json\n{\n  \"posts\": [\n    {\n      \"_id\": \"...\",\n      \"content\": \"Post content\",\n      \"author\": {...},\n      \"comments\": [...],\n      \"lastComment\": {\n        \"_id\": \"...\",\n        \"user\": {\n          \"_id\": \"...\",\n          \"username\": \"john_doe\",\n          \"fullName\": \"John Doe\",\n          \"profilePictureUrl\": \"...\"\n        },\n        \"content\": \"Latest comment text\",\n        \"createdAt\": \"2024-01-15T10:30:00.000Z\"\n      },\n      \"likesCount\": 10,\n      \"commentsCount\": 5\n    }\n  ]\n}\n```"
              }
            },
            {
              "name": "Get User Posts",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/user/posts/user/{{USER_ID}}?page=1&limit=20",
                  "host": ["{{BASE_URL}}"],
                  "path": ["user", "posts", "user", "{{USER_ID}}"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1",
                      "description": "Page number (default: 1)"
                    },
                    {
                      "key": "limit",
                      "value": "20",
                      "description": "Results per page (default: 20)"
                    }
                  ]
                },
                "description": "Get all posts from a specific user.\n\n**Path Parameters:**\n- userId: ID of the user whose posts to retrieve\n\n**Query Parameters:**\n- page: Page number (default: 1)\n- limit: Results per page (default: 20)\n\n**Returns:**\n- Array of user's published posts\n- Each post includes a `lastComment` field showing the newest comment\n- Total count\n- Pagination metadata\n\n**Note:** Only shows published posts unless viewing your own profile."
              }
            },
            {
              "name": "Get Single Post",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}",
                "description": "Get a single post by ID with full details.\n\n**Path Parameters:**\n- postId: ID of the post to retrieve\n\n**Returns:**\n- Full post details with populated author, comments, and likes\n- `lastComment` field showing the newest comment\n- View count (incremented if not the author)\n\n**Response Structure:**\n```json\n{\n  \"_id\": \"...\",\n  \"content\": \"Post content\",\n  \"author\": {\n    \"_id\": \"...\",\n    \"username\": \"john_doe\",\n    \"fullName\": \"John Doe\",\n    \"profilePictureUrl\": \"...\",\n    \"isVerified\": true\n  },\n  \"comments\": [...],\n  \"lastComment\": {\n    \"_id\": \"...\",\n    \"user\": {\n      \"_id\": \"...\",\n      \"username\": \"jane_doe\",\n      \"fullName\": \"Jane Doe\",\n      \"profilePictureUrl\": \"...\"\n    },\n    \"content\": \"Latest comment text\",\n    \"createdAt\": \"2024-01-15T10:30:00.000Z\"\n  },\n  \"likes\": [...],\n  \"likesCount\": 10,\n  \"commentsCount\": 5,\n  \"viewsCount\": 100,\n  \"visibility\": \"public\",\n  \"location\": {...}\n}\n```\n\n**Privacy Checks:**\n- Private posts: Only author can view\n- Followers-only posts: Author + followers can view\n- Public posts: Everyone can view"
              }
            },
            {
              "name": "Update Post",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"content\": \"Updated post content! #updated #vibgyor\",\n  \"visibility\": \"followers\",\n  \"commentVisibility\": \"followers\",\n  \"location\": {\n    \"name\": \"Delhi\",\n    \"coordinates\": {\n      \"lat\": 28.7041,\n      \"lng\": 77.1025\n    },\n    \"address\": \"New Delhi, India\",\n    \"placeId\": \"ChIJLbZ-NFv9DDkRzk0gTkm3wlI\",\n    \"placeType\": \"locality\",\n    \"accuracy\": \"city\"\n  }\n}"
                },
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}",
                "description": "Update post content, visibility, comment settings, and location.\n\n**Body Fields:**\n- content: Post text content (optional)\n- visibility: public | followers | private (optional)\n- commentVisibility: everyone | followers | none (optional)\n- location: Location object with coordinates and place details (optional)\n  - name: Location name (e.g., \"Mumbai\")\n  - coordinates: { lat: number, lng: number }\n  - address: Full address string\n  - placeId: Google Places ID\n  - placeType: locality, city, region, etc.\n  - accuracy: exact | approximate | city | region | country\n\n**Note:** All fields are optional. Only provided fields will be updated."
              }
            },
             {
               "name": "Archive Post",
               "request": {
                 "method": "PUT",
                 "header": [
                   { 
                     "key": "Authorization", 
                     "value": "Bearer {{USER_ACCESS_TOKEN}}" 
                   }
                 ],
                 "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/archive",
                 "description": "Archive a post. Archived posts are hidden from feed and profile but can be unarchived later.\n\n**Path Parameters:**\n- postId: ID of the post to archive\n\n**Response:**\n- Updated post with isArchived: true\n\n**Note:** Only the post author can archive their posts."
               }
             },
            {
              "name": "Unarchive Post",
              "request": {
                "method": "PUT",
                "header": [
                  { 
                    "key": "Authorization", 
                    "value": "Bearer {{USER_ACCESS_TOKEN}}" 
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/unarchive",
                "description": "Unarchive a previously archived post. The post will be visible again in feed and profile.\n\n**Path Parameters:**\n- postId: ID of the post to unarchive\n\n**Response:**\n- Updated post with isArchived: false\n\n**Note:** Only the post author can unarchive their posts."
              }
            },
            {
              "name": "Save Post",
              "request": {
                "method": "POST",
                "header": [
                  { 
                    "key": "Authorization", 
                    "value": "Bearer {{USER_ACCESS_TOKEN}}" 
                  },
                  { 
                    "key": "Content-Type", 
                    "value": "application/json" 
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/save",
                "description": "Save a post to your saved collection for later viewing.\n\n**Path Parameters:**\n- postId: ID of the post to save\n\n**Response:**\n- Success message\n- Updated saved posts count\n\n**Note:** Can save any public post or posts from users you follow."
              }
            },
            {
              "name": "Unsave Post",
              "request": {
                "method": "DELETE",
                "header": [
                  { 
                    "key": "Authorization", 
                    "value": "Bearer {{USER_ACCESS_TOKEN}}" 
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/save",
                "description": "Remove a post from your saved collection.\n\n**Path Parameters:**\n- postId: ID of the post to unsave\n\n**Response:**\n- Success message\n- Updated saved posts count"
              }
            },
            {
              "name": "Get Saved Posts",
              "request": {
                "method": "GET",
                "header": [
                  { 
                    "key": "Authorization", 
                    "value": "Bearer {{USER_ACCESS_TOKEN}}" 
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/user/posts/saved?page=1&limit=20",
                  "host": ["{{BASE_URL}}"],
                  "path": ["user", "posts", "saved"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1",
                      "description": "Page number (default: 1)"
                    },
                    {
                      "key": "limit",
                      "value": "20",
                      "description": "Results per page (default: 20)"
                    }
                  ]
                },
                "description": "Get all posts saved by the current user.\n\n**Query Parameters:**\n- page: Page number (default: 1)\n- limit: Results per page (default: 20)\n\n**Returns:**\n- Array of saved posts\n- Total count\n- Pagination metadata\n- Date saved for each post"
              }
            },
            {
              "name": "Delete Post",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}"
              }
            },
            {
              "name": "Search Posts",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/search?q=vibgyor&page=1&limit=20"
              }
            },
            {
              "name": "Get Trending Posts",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/trending?hours=24&limit=20"
              }
            },
            {
              "name": "Get Posts by Hashtag",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/hashtag/vibgyor?page=1&limit=20"
              }
            },
            {
              "name": "Like Post",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/like"
              }
            },
            {
              "name": "Add Comment",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"content\": \"This is a great post! üëç\"\n}"
                },
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/comment"
              }
            },
            {
              "name": "Get Post Comments",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/comments?page=1&limit=20"
              }
            },
            {
              "name": "Share Post",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"shareType\": \"repost\",\n  \"shareMessage\": \"Check this out!\"\n}"
                },
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/share"
              }
            },
            {
              "name": "Get Post Analytics",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/analytics"
              }
            },
            {
              "name": "Report Post",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"spam\",\n  \"description\": \"This post contains spam content\"\n}"
                },
                "url": "{{BASE_URL}}/user/posts/{{POST_ID}}/report"
              }
            }
          ]
        },
        {
          "name": "Stories Management (Simplified)",
          "description": "Simplified Stories API - 9 endpoints for ephemeral content sharing.\n\nFeatures:\n‚úì Image/Video/Text stories (max 10MB media, 2200 chars text)\n‚úì Privacy controls (public/followers/close_friends)\n‚úì @mentions auto-detection\n‚úì View tracking (silent, no notifications)\n‚úì Replies (DM or public, max 200 chars)\n‚úì Reporting system (auto-flag at 3+ reports)\n‚úì Analytics (views, replies, shares, engagement rate)\n‚úì Hashtag search\n‚úì Auto-expiration (24 hours)\n‚úì Content moderation (AI + manual review)\n\nRemoved:\n‚úó Reactions, Polls, Questions, Music, Countdown\n‚úó Location tagging, Filters, Stickers\n‚úó Story Highlights\n‚úó Reach & Impressions metrics\n‚úó Notifications",
          "item": [
            {
              "name": "Create Story",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "files",
                      "type": "file",
                      "src": [],
                      "description": "Media files (image/video) - optional if content provided"
                    },
                    {
                      "key": "content",
                      "value": "Amazing sunset! @johndoe #nature",
                      "type": "text",
                      "description": "Text content (max 2200 chars) - optional if files provided"
                    },
                    {
                      "key": "privacy",
                      "value": "public",
                      "type": "text",
                      "description": "public | followers | close_friends (default: public)"
                    },
                    {
                      "key": "closeFriends",
                      "value": "",
                      "type": "text",
                      "description": "Comma-separated user IDs (required if privacy=close_friends)"
                    }
                  ]
                },
                "url": "{{BASE_URL}}/user/stories",
                "description": "Create a story with image, video, or text. Supports @mentions in content. Auto-expires in 24 hours.\n\nValidations:\n- Content OR media required (at least one)\n- Content max 2200 characters\n- Media max 10MB\n- Supported formats: image (jpeg, png, webp, gif), video (mp4, mov, avi)\n\nResponse includes story object with auto-generated expiry time (24h from creation)."
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data._id) {",
                      "  pm.environment.set('STORY_ID', json.data._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get Stories Feed",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/user/stories/feed?page=1&limit=20",
                  "host": ["{{BASE_URL}}"],
                  "path": ["user", "stories", "feed"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1",
                      "description": "Page number (default: 1)"
                    },
                    {
                      "key": "limit",
                      "value": "20",
                      "description": "Items per page (default: 20)"
                    }
                  ]
                },
                "description": "Get stories from people you follow, grouped by author. **Instagram-like behavior**: ONLY shows stories from followed users. Auto-expires after 24 hours.\n\n**Instagram-like Feed Logic:**\n- ‚úÖ Shows ONLY stories from users you're following\n- ‚ùå NO public stories from non-followed users\n- ‚úÖ Simple query: `author: { $in: followingIds }`\n\n**Account Privacy (checked when viewing individual stories):**\n- üîì **Public Account:** Anyone can view their stories (via direct link)\n- üîí **Private Account:** Only followers can view their stories\n- Feed only shows followed users regardless of account privacy\n\n**Feed Structure:**\n```json\n{\n  \"storiesFeed\": [\n    {\n      \"author\": {...},\n      \"stories\": [...],\n      \"hasUnviewedStories\": true\n    }\n  ],\n  \"totalAuthors\": 5\n}\n```\n\n**Each Story Includes:**\n- hasViewed flag (whether you've seen it)\n- Author details (username, fullName, profilePicture, isVerified)\n- Story content/media\n- View count & analytics\n\n**How It Works:**\n1. Get your following list\n2. Query stories where author is in following list\n3. Group by author\n4. Return grouped feed\n\n**Empty Feed Scenarios:**\n- Not following anyone ‚Üí Empty feed\n- Followed users have no active stories ‚Üí Empty feed\n- All stories expired (24h) ‚Üí Empty feed\n\n**Use Case:**\nThis is your main stories feed - like Instagram's stories bar showing only people you follow."
              }
            },
            {
              "name": "Get User Stories",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/user/stories/user/{{USER_ID}}?includeExpired=false",
                  "host": ["{{BASE_URL}}"],
                  "path": ["user", "stories", "user", "{{USER_ID}}"],
                  "query": [
                    {
                      "key": "includeExpired",
                      "value": "false",
                      "description": "Include expired stories (default: false, auto true for own stories)"
                    }
                  ]
                },
                "description": "Get all stories from a specific user. If viewing own stories, expired stories are automatically included regardless of the includeExpired parameter.\n\n**Account Privacy Controls:**\n- üîì **Public Account:** Anyone can view their stories\n- üîí **Private Account:** Only followers can view their stories\n- If account is private and you're not following ‚Üí 403 Forbidden\n\n**Response Includes:**\n- All active (non-expired) stories from the user\n- hasViewed flag for each story\n- isPrivateAccount flag\n- Expired stories if viewing own profile\n\n**Error Codes:**\n- 403: Private account - must follow to see stories\n- 404: User not found"
              }
            },
            {
              "name": "Get Single Story",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/stories/{{STORY_ID}}",
                "description": "Get a specific story by ID. **Instagram-like behavior**: Account privacy only. View tracking happens via separate API.\n\n**Simplified Account Privacy:**\n- ‚úÖ Privacy controlled by ACCOUNT settings only\n- ‚ùå No story-level privacy checks\n\n**Who Can View:**\n- üë§ **Own Story:** Always can view\n- üîì **Public Account:** Anyone can view their stories (even non-followers)\n- üîí **Private Account:** Only followers can view their stories\n- If private account and not following ‚Üí 403 Forbidden\n\n**Behavior:**\n- ‚úÖ Returns full story details with author info\n- ‚úÖ Includes hasViewed flag\n- ‚úÖ Checks if story expired\n- ‚ùå View tracking moved to separate POST /stories/:id/view endpoint\n\n**Response Structure:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"_id\": \"...\",\n    \"author\": {...},\n    \"content\": \"Amazing sunset!\",\n    \"media\": {...},\n    \"mentions\": [...],\n    \"views\": [...],\n    \"hasViewed\": false,\n    \"expiresAt\": \"2024-01-16T10:30:00Z\"\n  }\n}\n```\n\n**Response Includes:**\n- Story with populated mentions (username, fullName, profilePictureUrl)\n- Author details with verification status\n- hasViewed flag for current user\n- View count and analytics\n\n**Error Codes:**\n- 400: Story has expired\n- 403: Private account - must follow to see stories\n- 404: Story not found\n\n**Use Case:**\nDirect story access via link/ID. Feed shows only followed users, but if you have a direct link to a public account's story, you can view it."
              }
            },
            {
              "name": "Delete Story",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/stories/{{STORY_ID}}",
                "description": "Delete a story (only author can delete). Soft deletes and removes media from S3."
              }
            },
            {
              "name": "Reply to Story",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"content\": \"Great story!\",\n  \"isDirectMessage\": true\n}"
                },
                "url": "{{BASE_URL}}/user/stories/{{STORY_ID}}/replies",
                "description": "Reply to a story. Max 200 characters. Can be sent as DM (default) or public.\n\nValidations:\n- Content required (cannot be empty)\n- Max 200 characters\n- Story must not be expired\n\nResponse includes updated replies array and repliesCount."
              }
            },
            {
              "name": "Track Story View",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{}"
                },
                "url": "{{BASE_URL}}/user/stories/{{STORY_ID}}/view",
                "description": "Track a story view - increments view count and adds user to viewers list.\n\n**Account Privacy:**\n- üîì **Public Account:** Anyone can view and track\n- üîí **Private Account:** Only followers can view and track\n- If private account and not following ‚Üí 403 Forbidden\n\n**How It Works:**\n- ‚úÖ First time viewing: Adds user to views array and increments count\n- ‚ùå Already viewed: Returns success but doesn't increment (prevents duplicates)\n- ‚ùå Own story: Cannot track views for your own story\n- ‚ùå Expired story: Cannot track views\n- ‚ùå Private account (not following): Cannot track views\n\n**First View Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"viewsCount\": 15,\n    \"hasViewed\": true\n  },\n  \"message\": \"Story view tracked successfully\"\n}\n```\n\n**Already Viewed Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"viewsCount\": 15,\n    \"hasViewed\": true,\n    \"message\": \"You have already viewed this story\"\n  },\n  \"message\": \"Story view already recorded\"\n}\n```\n\n**Features:**\n- üîí No duplicate views per user\n- üìä Auto-updates analytics.viewsCount\n- ‚úÖ Silent for already-viewed stories\n- üîê Respects account privacy settings\n\n**Use Case:**\nCall this API when a user opens/watches a story to increment the view count."
              }
            },
            {
              "name": "Get Story Views",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/user/stories/{{STORY_ID}}/views?page=1&limit=20",
                  "host": ["{{BASE_URL}}"],
                  "path": ["user", "stories", "{{STORY_ID}}", "views"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1",
                      "description": "Page number (default: 1)"
                    },
                    {
                      "key": "limit",
                      "value": "20",
                      "description": "Items per page (default: 20)"
                    }
                  ]
                },
                "description": "Get list of users who viewed your story (only author can see).\n\n**Authorization:**\n- ‚úÖ Only story author can view who watched\n- ‚ùå Others get 403 Forbidden\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"views\": [\n      {\n        \"user\": {\n          \"id\": \"507f1f77bcf86cd799439011\",\n          \"username\": \"johndoe\",\n          \"fullName\": \"John Doe\",\n          \"profilePictureUrl\": \"https://...\",\n          \"isVerified\": true\n        },\n        \"viewedAt\": \"2024-01-15T10:30:00.000Z\",\n        \"viewDuration\": 0\n      }\n    ],\n    \"totalViews\": 150,\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 20,\n      \"totalPages\": 8,\n      \"hasNext\": true,\n      \"hasPrev\": false\n    }\n  },\n  \"message\": \"Story views retrieved successfully\"\n}\n```\n\n**View Data Includes:**\n- üë§ User profile (username, fullName, picture, verified)\n- üïí When they viewed (viewedAt timestamp)\n- ‚è±Ô∏è View duration (currently 0 - reserved for future)\n- üìÑ Pagination support\n\n**Use Cases:**\n- See who watched your story\n- Check view timestamps\n- Track engagement metrics\n- Instagram-style story insights"
              }
            },
            {
              "name": "Report Story",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"spam\",\n  \"description\": \"This story contains spam content\"\n}"
                },
                "url": "{{BASE_URL}}/user/stories/{{STORY_ID}}/report",
                "description": "Report a story for policy violations.\n\nValid Reasons:\n- spam\n- inappropriate\n- harassment\n- fake_news\n- violence\n- other\n\nValidations:\n- Reason required\n- Description max 500 characters\n- Cannot report same story twice\n\nBehavior:\n- 3+ reports automatically flag for admin review\n- Content moderation record updated"
              }
            },
            {
              "name": "Get Story Analytics",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/user/stories/{{STORY_ID}}/analytics",
                "description": "Get detailed story analytics. Only the story author can view analytics.\n\nReturns:\n- views: Total unique views\n- replies: Total replies count\n- shares: Total shares count\n- engagementRate: (replies / views) √ó 100\n- timeRemaining: Seconds until expiration\n- createdAt: Story creation timestamp\n- expiresAt: Story expiration timestamp (24h after creation)\n\nError:\n- 403: Not the author\n- 404: Story not found"
              }
            },
            {
              "name": "Search Stories by Hashtag",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/user/stories/hashtag/nature?page=1&limit=20",
                  "host": ["{{BASE_URL}}"],
                  "path": ["user", "stories", "hashtag", "nature"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1",
                      "description": "Page number (default: 1)"
                    },
                    {
                      "key": "limit",
                      "value": "20",
                      "description": "Items per page (default: 20)"
                    }
                  ]
                },
                "description": "Search public stories by hashtag (without # symbol in URL path). Only returns active, non-expired, public stories. Replace 'nature' in path with desired hashtag."
              }
            }
          ]
        },
        {
          "name": "Notifications",
          "item": [
            {
              "name": "Get Notifications",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notifications?page=1&limit=20&status=all&type=all&context=all&priority=all",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notifications"],
                  "query": [
                    {
                      "key": "page",
                      "value": "1",
                      "description": "Page number (default: 1)"
                    },
                    {
                      "key": "limit",
                      "value": "20",
                      "description": "Items per page (default: 20, max: 100)"
                    },
                    {
                      "key": "status",
                      "value": "all",
                      "description": "all, unread, read, archived (default: all)"
                    },
                    {
                      "key": "type",
                      "value": "all",
                      "description": "Notification type filter (default: all)"
                    },
                    {
                      "key": "context",
                      "value": "all",
                      "description": "all, social, dating (default: all)"
                    },
                    {
                      "key": "priority",
                      "value": "all",
                      "description": "all, low, normal, high, urgent (default: all)"
                    }
                  ]
                },
                "description": "Get user notifications with filtering and pagination.\n\n**Query Parameters:**\n- page: Page number (default: 1)\n- limit: Items per page (default: 20, max: 100)\n- status: all, unread, read, archived (default: all)\n- type: Notification type filter (default: all)\n- context: all, social, dating (default: all)\n- priority: all, low, normal, high, urgent (default: all)"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.notifications && json.data.notifications.length > 0) {",
                      "  pm.environment.set('NOTIFICATION_ID', json.data.notifications[0]._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get Unread Count",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notifications/unread-count?context=all",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notifications", "unread-count"],
                  "query": [
                    {
                      "key": "context",
                      "value": "all",
                      "description": "all, social, dating (default: all)"
                    }
                  ]
                },
                "description": "Get unread notification count. Optionally filter by context."
              }
            },
            {
              "name": "Mark Notification as Read",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notifications/{{NOTIFICATION_ID}}/read",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notifications", "{{NOTIFICATION_ID}}", "read"]
                },
                "description": "Mark a specific notification as read."
              }
            },
            {
              "name": "Mark All as Read",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"context\": \"all\"\n}"
                },
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notifications/read-all",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notifications", "read-all"]
                },
                "description": "Mark all notifications as read. Optionally filter by context (all, social, dating)."
              }
            },
            {
              "name": "Archive Notification",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notifications/{{NOTIFICATION_ID}}/archive",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notifications", "{{NOTIFICATION_ID}}", "archive"]
                },
                "description": "Archive a notification."
              }
            },
            {
              "name": "Delete Notification",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notifications/{{NOTIFICATION_ID}}",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notifications", "{{NOTIFICATION_ID}}"]
                },
                "description": "Delete a notification permanently."
              }
            }
          ]
        },
        {
          "name": "Notification Preferences",
          "item": [
            {
              "name": "Get Notification Preferences",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notification-preferences",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notification-preferences"]
                },
                "description": "Get user notification preferences including global settings, channels, contexts, and advanced settings."
              }
            },
            {
              "name": "Update Notification Preferences",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"globalSettings\": {\n    \"enableNotifications\": true,\n    \"quietHours\": {\n      \"enabled\": true,\n      \"startTime\": \"22:00\",\n      \"endTime\": \"08:00\",\n      \"timezone\": \"UTC\"\n    },\n    \"frequency\": \"immediate\"\n  },\n  \"channels\": {\n    \"inApp\": { \"enabled\": true, \"sound\": true, \"vibration\": true },\n    \"push\": { \"enabled\": true, \"sound\": true, \"badge\": true },\n    \"email\": { \"enabled\": false, \"frequency\": \"daily\" },\n    \"sms\": { \"enabled\": false, \"emergencyOnly\": true }\n  },\n  \"contexts\": {\n    \"social\": {\n      \"enabled\": true,\n      \"types\": {\n        \"post_like\": {\n          \"enabled\": true,\n          \"channels\": {\n            \"inApp\": true,\n            \"push\": false,\n            \"email\": false,\n            \"sms\": false\n          }\n        },\n        \"message_received\": {\n          \"enabled\": true,\n          \"channels\": {\n            \"inApp\": true,\n            \"push\": true,\n            \"email\": false,\n            \"sms\": false\n          }\n        }\n      }\n    }\n  },\n  \"advanced\": {\n    \"groupSimilar\": true,\n    \"maxNotificationsPerHour\": 10,\n    \"digestNotifications\": false,\n    \"digestFrequency\": \"daily\"\n  }\n}"
                },
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notification-preferences",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notification-preferences"]
                },
                "description": "Update user notification preferences. Supports partial updates - only include fields you want to change."
              }
            },
            {
              "name": "Reset Preferences to Defaults",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/notification-preferences/reset",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "notification-preferences", "reset"]
                },
                "description": "Reset all notification preferences to default values."
              }
            }
          ]
        },
        {
          "name": "Device Token Management",
          "item": [
            {
              "name": "Register Device Token",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"token\": \"fcm_device_token_here\",\n  \"platform\": \"android\",\n  \"deviceId\": \"device_unique_id\",\n  \"deviceName\": \"Samsung Galaxy S21\",\n  \"appVersion\": \"1.0.0\"\n}"
                },
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/user/device-token",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "user", "device-token"]
                },
                "description": "Register a device token for push notifications.\n\n**Platform Values:**\n- ios: iOS devices\n- android: Android devices\n- web: Web browsers\n\n**Required Fields:**\n- token: FCM device token\n- platform: ios, android, or web\n\n**Optional Fields:**\n- deviceId: Unique device identifier\n- deviceName: Device name/model\n- appVersion: App version number"
              }
            },
            {
              "name": "Get Device Tokens",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/user/device-token",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "user", "device-token"]
                },
                "description": "Get all active device tokens for the current user."
              }
            },
            {
              "name": "Remove Device Token",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": {
                  "raw": "{{BASE_URL}}/api/v1/user/device-token/:token",
                  "host": ["{{BASE_URL}}"],
                  "path": ["api", "v1", "user", "device-token", ":token"],
                  "variable": [
                    {
                      "key": "token",
                      "value": "fcm_device_token_here",
                      "description": "Device token to remove"
                    }
                  ]
                },
                "description": "Remove a device token. Use this when user logs out or uninstalls the app."
              }
            }
          ]
        },
        {
          "name": "Search",
          "item": [
            {
              "name": "Explore Feed (Default - All Posts)",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?page=1&limit=20",
                "description": "Get all public posts when no search keyword is provided. This is the default explore/discovery feed."
              }
            },
            {
              "name": "Search All",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?q=john travel&filter=all&page=1&limit=20",
                "description": "Search across all categories (people, posts, hashtags, location) with a keyword."
              }
            },
            {
              "name": "Search People",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search/people?q=john&page=1&limit=20",
                "description": "Search for people by name or username. Excludes blocked users and inactive accounts."
              }
            },
            {
              "name": "Search People (No Keyword - Empty)",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search/people?page=1&limit=20",
                "description": "When no keyword is provided for people search, returns empty results."
              }
            },
            {
              "name": "Search Posts",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search/posts?q=travel adventure&page=1&limit=20",
                "description": "Search posts by content, caption, hashtags, location, or mentions. Only shows public posts."
              }
            },
            {
              "name": "Search Posts (No Keyword - All Posts)",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search/posts?page=1&limit=20",
                "description": "When no keyword is provided, returns all public posts (explore feed)."
              }
            },
            {
              "name": "Search Hashtags",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search/hashtags?q=#adventure&page=1&limit=20",
                "description": "Search posts by hashtags. Can include # symbol or just the hashtag name."
              }
            },
            {
              "name": "Search Location",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search/location?q=mumbai&page=1&limit=20",
                "description": "Search posts by location (name, address, city, or country)."
              }
            },
            {
              "name": "Search with Filter - People Only",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?q=john&filter=people&page=1&limit=20",
                "description": "Use filter parameter to search only in people category."
              }
            },
            {
              "name": "Search with Filter - Posts Only",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?q=travel&filter=posts&page=1&limit=20",
                "description": "Use filter parameter to search only in posts category."
              }
            },
            {
              "name": "Search with Filter - Posts Only (No Keyword)",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?filter=posts&page=1&limit=20",
                "description": "When no keyword provided with filter=posts, returns all public posts (explore feed)."
              }
            },
            {
              "name": "Search with Filter - Hashtags Only",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?q=#adventure&filter=hashtags&page=1&limit=20",
                "description": "Use filter parameter to search only in hashtags category."
              }
            },
            {
              "name": "Search with Filter - Location Only",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?q=mumbai&filter=location&page=1&limit=20",
                "description": "Use filter parameter to search only in location category."
              }
            },
            {
              "name": "Search with Pagination",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?q=travel&page=2&limit=10",
                "description": "Example of paginated search with custom page size."
              }
            },
            {
              "name": "Explore Feed - Page 2",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/search?page=2&limit=20",
                "description": "Paginate through the explore feed (all public posts) without any search keyword."
              }
            }
          ]
        },
        {
          "name": "Dating",
          "description": "Complete dating feature APIs including profile management, media uploads, preferences, discovery, interactions, and safety features.",
          "item": [
            {
              "name": "Dating Media",
              "item": [
                {
                  "name": "Get Dating Profile",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profile",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profile"]
                    }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && json.data.datingProfile && json.data.datingProfile._id) {",
                          "  pm.environment.set('targetUserId', json.data.datingProfile._id);",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Upload Photos",
                  "request": {
                    "method": "POST",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "body": {
                      "mode": "formdata",
                      "formdata": [
                        { "key": "photos", "type": "file", "src": "", "description": "Photo files (max 5, 50MB each, JPEG/PNG/WebP/GIF)" }
                      ]
                    },
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/photos",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "photos"]
                    }
                  }
                },
                {
                  "name": "Upload Videos",
                  "request": {
                    "method": "POST",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "body": {
                      "mode": "formdata",
                      "formdata": [
                        { "key": "videos", "type": "file", "src": "", "description": "Video files (max 2, 100MB each)" },
                        { "key": "durations", "type": "text", "value": "12.5", "description": "Optional duration (seconds) per video index" }
                      ]
                    },
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/videos",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "videos"]
                    }
                  }
                },
                {
                  "name": "Delete Photo",
                  "request": {
                    "method": "DELETE",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/photos/{{photoIndex}}",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "photos", "{{photoIndex}}"]
                    }
                  },
                  "event": [
                    {
                      "listen": "prerequest",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "if (!pm.variables.get('photoIndex')) {",
                          "  pm.variables.set('photoIndex', '0');",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Delete Video",
                  "request": {
                    "method": "DELETE",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/videos/{{videoIndex}}",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "videos", "{{videoIndex}}"]
                    }
                  },
                  "event": [
                    {
                      "listen": "prerequest",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "if (!pm.variables.get('videoIndex')) {",
                          "  pm.variables.set('videoIndex', '0');",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Update Photo Order",
                  "request": {
                    "method": "PUT",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" },
                      { "key": "Content-Type", "value": "application/json", "type": "text" }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"photoIndex\": 0,\n  \"order\": 2\n}"
                    },
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/photos/order",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "photos", "order"]
                    }
                  }
                },
                {
                  "name": "Update Video Order",
                  "request": {
                    "method": "PUT",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" },
                      { "key": "Content-Type", "value": "application/json", "type": "text" }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"videoIndex\": 1,\n  \"order\": 0\n}"
                    },
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/videos/order",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "videos", "order"]
                    }
                  }
                },
                {
                  "name": "Toggle Profile",
                  "request": {
                    "method": "PUT",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" },
                      { "key": "Content-Type", "value": "application/json", "type": "text" }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{ \"isActive\": true }"
                    },
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/toggle",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "toggle"]
                    }
                  }
                }
              ]
            },
            {
              "name": "Preferences & Discovery",
              "item": [
                {
                  "name": "Get Preferences",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/preferences",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "preferences"]
                    }
                  }
                },
                {
                  "name": "Update Preferences",
                  "request": {
                    "method": "PUT",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" },
                      { "key": "Content-Type", "value": "application/json", "type": "text" }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"hereTo\": \"Make New Friends\",\n  \"wantToMeet\": \"Woman\",\n  \"ageMin\": 20,\n  \"ageMax\": 35,\n  \"languages\": [\"English\", \"French\"],\n  \"location\": {\n    \"city\": \"Berlin\",\n    \"country\": \"Germany\",\n    \"coordinates\": {\"lat\": 52.52, \"lng\": 13.405}\n  },\n  \"distanceMin\": 0,\n  \"distanceMax\": 25\n}"
                    },
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/preferences",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "preferences"]
                    }
                  }
                },
                {
                  "name": "Search Profiles (Default)",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profiles?search=anna&hereTo=Make%20New%20Friends&wantToMeet=Man&languages=English,French&city=Berlin&country=Germany&distanceMax=25&page=1&limit=20",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profiles"],
                      "query": [
                        { "key": "search", "value": "anna" },
                        { "key": "hereTo", "value": "Make New Friends" },
                        { "key": "wantToMeet", "value": "Man" },
                        { "key": "languages", "value": "English,French" },
                        { "key": "city", "value": "Berlin" },
                        { "key": "country", "value": "Germany" },
                        { "key": "distanceMax", "value": "25" },
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && Array.isArray(json.data.profiles) && json.data.profiles.length > 0) {",
                          "  pm.environment.set('targetUserId', json.data.profiles[0]._id || json.data.profiles[0].userId);",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Search Profiles (Nearby)",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profiles?filter=near_by&distanceMax=10",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profiles"],
                      "query": [
                        { "key": "filter", "value": "near_by" },
                        { "key": "distanceMax", "value": "10" }
                      ]
                    }
                  }
                },
                {
                  "name": "Search Profiles (Same Interests)",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profiles?filter=same_interests",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profiles"],
                      "query": [
                        { "key": "filter", "value": "same_interests" }
                      ]
                    }
                  }
                },
                {
                  "name": "Search Profiles (Liked You)",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profiles?filter=liked_you&page=1&limit=20",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profiles"],
                      "query": [
                        { "key": "filter", "value": "liked_you" },
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && Array.isArray(json.data.profiles) && json.data.profiles.length > 0) {",
                          "  pm.environment.set('targetUserId', json.data.profiles[0]._id || json.data.profiles[0].userId);",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Search Profiles (Liked by You)",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profiles?filter=liked_by_you&page=1&limit=20",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profiles"],
                      "query": [
                        { "key": "filter", "value": "liked_by_you" },
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && Array.isArray(json.data.profiles) && json.data.profiles.length > 0) {",
                          "  pm.environment.set('targetUserId', json.data.profiles[0]._id || json.data.profiles[0].userId);",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Search Profiles (New Dater)",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profiles?filter=new_dater&page=1&limit=20",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profiles"],
                      "query": [
                        { "key": "filter", "value": "new_dater" },
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && Array.isArray(json.data.profiles) && json.data.profiles.length > 0) {",
                          "  pm.environment.set('targetUserId', json.data.profiles[0]._id || json.data.profiles[0].userId);",
                          "}"
                        ]
                      }
                    }
                  ]
                }
              ]
            },
            {
              "name": "Interactions",
              "item": [
                {
                  "name": "Like Profile",
                  "request": {
                    "method": "POST",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" },
                      { "key": "Content-Type", "value": "application/json", "type": "text" }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{}",
                      "description": "Comment is optional. Use { \"comment\": \"Great profile!\" } to add a comment with the like."
                    },
            "url": {
              "raw": "{{BASE_URL}}/user/dating/profiles/{{targetUserId}}/like",
              "host": ["{{BASE_URL}}"],
              "path": ["user", "dating", "profiles", "{{targetUserId}}", "like"]
            }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && json.data.matchId) {",
                          "  pm.environment.set('matchId', json.data.matchId);",
                          "}",
                          "if (json.data && json.data.matches && json.data.matches.length > 0) {",
                          "  pm.environment.set('matchId', json.data.matches[0].matchId);",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Dislike Profile",
                  "request": {
                    "method": "POST",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
            "url": {
              "raw": "{{BASE_URL}}/user/dating/profiles/{{targetUserId}}/dislike",
              "host": ["{{BASE_URL}}"],
              "path": ["user", "dating", "profiles", "{{targetUserId}}", "dislike"]
            }
                  }
                },
                {
                  "name": "Get Likes For Profile",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
            "url": {
              "raw": "{{BASE_URL}}/user/dating/profiles/{{targetUserId}}/likes?page=1&limit=20",
              "host": ["{{BASE_URL}}"],
              "path": ["user", "dating", "profiles", "{{targetUserId}}", "likes"],
                      "query": [
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  }
                },
                {
                  "name": "Get Likes For My Profile",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profiles/me/likes?page=1&limit=20",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profiles", "me", "likes"],
                      "query": [
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  }
                },
                {
                  "name": "Add Comment",
                  "request": {
                    "method": "POST",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" },
                      { "key": "Content-Type", "value": "application/json", "type": "text" }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{ \"text\": \"Loved your travel photos!\" }"
                    },
            "url": {
              "raw": "{{BASE_URL}}/user/dating/profiles/{{targetUserId}}/comments",
              "host": ["{{BASE_URL}}"],
              "path": ["user", "dating", "profiles", "{{targetUserId}}", "comments"]
            }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && json.data.comment && json.data.comment._id) {",
                          "  pm.environment.set('commentId', json.data.comment._id);",
                          "}",
                          "if (json.data && json.data.comments && json.data.comments.length > 0) {",
                          "  pm.environment.set('commentId', json.data.comments[0]._id || json.data.comments[0].id);",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Get Comments",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
            "url": {
              "raw": "{{BASE_URL}}/user/dating/profiles/{{targetUserId}}/comments?page=1&limit=20",
              "host": ["{{BASE_URL}}"],
              "path": ["user", "dating", "profiles", "{{targetUserId}}", "comments"],
                      "query": [
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  }
                },
                {
                  "name": "Get Comments (My Profile)",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/profiles/me/comments?page=1&limit=20",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "profiles", "me", "comments"],
                      "query": [
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  }
                },
                {
                  "name": "Get Matches",
                  "request": {
                    "method": "GET",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
                    "url": {
                      "raw": "{{BASE_URL}}/user/dating/matches?status=active&page=1&limit=20",
                      "host": ["{{BASE_URL}}"],
                      "path": ["user", "dating", "matches"],
                      "query": [
                        { "key": "status", "value": "active" },
                        { "key": "page", "value": "1" },
                        { "key": "limit", "value": "20" }
                      ]
                    }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && json.data.matches && json.data.matches.length > 0) {",
                          "  pm.environment.set('matchId', json.data.matches[0].matchId || json.data.matches[0]._id);",
                          "}"
                        ]
                      }
                    }
                  ]
                }
              ]
            },
            {
              "name": "Safety",
              "item": [
                {
                  "name": "Report Profile",
                  "request": {
                    "method": "POST",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" },
                      { "key": "Content-Type", "value": "application/json", "type": "text" }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{ \"description\": \"Fake profile\" }"
                    },
            "url": {
              "raw": "{{BASE_URL}}/user/dating/profiles/{{targetUserId}}/report",
              "host": ["{{BASE_URL}}"],
              "path": ["user", "dating", "profiles", "{{targetUserId}}", "report"]
            }
                  },
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "type": "text/javascript",
                        "exec": [
                          "const json = pm.response.json();",
                          "if (json.data && json.data.reportId) {",
                          "  pm.environment.set('reportId', json.data.reportId);",
                          "}"
                        ]
                      }
                    }
                  ]
                },
                {
                  "name": "Block Profile",
                  "request": {
                    "method": "POST",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
            "url": {
              "raw": "{{BASE_URL}}/user/dating/profiles/{{targetUserId}}/block",
              "host": ["{{BASE_URL}}"],
              "path": ["user", "dating", "profiles", "{{targetUserId}}", "block"]
            }
                  }
                },
                {
                  "name": "Unblock Profile",
                  "request": {
                    "method": "DELETE",
                    "header": [
                      { "key": "Authorization", "value": "Bearer {{USER_ACCESS_TOKEN}}", "type": "text" }
                    ],
            "url": {
              "raw": "{{BASE_URL}}/user/dating/profiles/{{targetUserId}}/block",
              "host": ["{{BASE_URL}}"],
              "path": ["user", "dating", "profiles", "{{targetUserId}}", "block"]
            }
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "Enhanced APIs (v2)",
      "item": [
        {
          "name": "Enhanced Chat Management",
          "item": [
            {
              "name": "Create or Get Chat",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"otherUserId\": \"{{USER_ID}}\"\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/chats"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.chatId) {",
                      "  pm.environment.set('CHAT_ID', json.data.chatId);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get User Chats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/chats?page=1&limit=20"
              }
            },
            {
              "name": "Search Chats",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/chats/search?q=john&page=1&limit=20"
              }
            },
            {
              "name": "Get Chat Details",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/chats/{{CHAT_ID}}"
              }
            },
            {
              "name": "Update Chat Settings",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"isArchived\": false,\n  \"isPinned\": true,\n  \"isMuted\": false\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/chats/{{CHAT_ID}}/settings"
              }
            },
            {
              "name": "Delete Chat",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/chats/{{CHAT_ID}}"
              }
            },
            {
              "name": "Join Chat Room",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/chats/{{CHAT_ID}}/join"
              }
            },
            {
              "name": "Leave Chat Room",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/chats/{{CHAT_ID}}/leave"
              }
            }
          ]
        },
        {
          "name": "Enhanced Message Management",
          "item": [
            {
              "name": "Send Message",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "chatId",
                      "value": "{{CHAT_ID}}",
                      "type": "text"
                    },
                    {
                      "key": "type",
                      "value": "text",
                      "type": "text"
                    },
                    {
                      "key": "content",
                      "value": "Hello! How are you?",
                      "type": "text"
                    },
                    {
                      "key": "file",
                      "type": "file",
                      "src": []
                    }
                  ]
                },
                "url": "{{BASE_URL}}/api/v1/user/messages"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data._id) {",
                      "  pm.environment.set('MESSAGE_ID', json.data._id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get Chat Messages",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/messages/chat/{{CHAT_ID}}?page=1&limit=50"
              }
            },
            {
              "name": "Mark Messages as Read",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/messages/chat/{{CHAT_ID}}/read"
              }
            },
            {
              "name": "Get Chat Media",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/messages/chat/{{CHAT_ID}}/media?type=image&page=1&limit=20"
              }
            },
            {
              "name": "Search Messages",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/messages/chat/{{CHAT_ID}}/search?q=hello&page=1&limit=20"
              }
            },
            {
              "name": "Get Message Details",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/messages/{{MESSAGE_ID}}"
              }
            },
            {
              "name": "Edit Message",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"content\": \"Updated message content\"\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/messages/{{MESSAGE_ID}}"
              }
            },
            {
              "name": "Delete Message",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/messages/{{MESSAGE_ID}}"
              }
            },
            {
              "name": "React to Message",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"emoji\": \"üëç\"\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/messages/{{MESSAGE_ID}}/reactions"
              }
            },
            {
              "name": "Remove Reaction",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/messages/{{MESSAGE_ID}}/reactions"
              }
            },
            {
              "name": "Forward Message",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"targetChatId\": \"{{CHAT_ID}}\"\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/messages/{{MESSAGE_ID}}/forward"
              }
            }
          ]
        },
        {
          "name": "Enhanced Call Management",
          "item": [
            {
              "name": "Initiate Call",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"chatId\": \"{{CHAT_ID}}\",\n  \"type\": \"video\"\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/calls"
              },
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json.data && json.data.callId) {",
                      "  pm.environment.set('CALL_ID', json.data.callId);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ]
            },
            {
              "name": "Get Call Statistics",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/calls/stats?startDate=2025-01-01&endDate=2025-01-31"
              }
            },
            {
              "name": "Get Call Status",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/calls/{{CALL_ID}}/status"
              }
            },
            {
              "name": "Accept Call",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"signalingData\": {\n    \"answer\": \"webrtc_answer_sdp\"\n  }\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/calls/{{CALL_ID}}/accept"
              }
            },
            {
              "name": "Reject Call",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"Busy right now\"\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/calls/{{CALL_ID}}/reject"
              }
            },
            {
              "name": "End Call",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"reason\": \"user_ended\"\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/calls/{{CALL_ID}}/end"
              }
            },
            {
              "name": "Update Call Settings",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"isMuted\": true,\n  \"isVideoEnabled\": false,\n  \"isScreenSharing\": false,\n  \"isSpeakerEnabled\": true\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/calls/{{CALL_ID}}/settings"
              }
            },
            {
              "name": "Handle WebRTC Signaling",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"type\": \"offer\",\n  \"data\": {\n    \"type\": \"offer\",\n    \"sdp\": \"webrtc_offer_sdp\"\n  }\n}"
                },
                "url": "{{BASE_URL}}/api/v1/user/calls/{{CALL_ID}}/signaling"
              }
            },
            {
              "name": "Get Call History",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/calls/chat/{{CHAT_ID}}/history?page=1&limit=20&type=video"
              }
            },
            {
              "name": "Get Active Call",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/calls/chat/{{CHAT_ID}}/active"
              }
            },
            {
              "name": "Force Cleanup Calls",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{USER_ACCESS_TOKEN}}"
                  }
                ],
                "url": "{{BASE_URL}}/api/v1/user/calls/chat/{{CHAT_ID}}/cleanup"
              }
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test script for collection-wide variable extraction",
          "let json;",
          "try {",
          "  json = pm.response.json();",
          "} catch (err) {",
          "  return;",
          "}",
          "const data = json?.data || {};",
          "",
          "// Dating profile variables",
          "if (data.datingProfile?._id) {",
          "  pm.environment.set('targetUserId', data.datingProfile._id);",
          "  pm.environment.set('profileId', data.datingProfile._id);",
          "}",
          "if (Array.isArray(data.profiles) && data.profiles.length) {",
          "  const firstProfileId = data.profiles[0]._id || data.profiles[0].userId;",
          "  if (firstProfileId) {",
          "    pm.environment.set('targetUserId', firstProfileId);",
          "    pm.environment.set('profileId', firstProfileId);",
          "  }",
          "}",
          "",
          "// Dating match variables",
          "if (data.matchId) {",
          "  pm.environment.set('matchId', data.matchId);",
          "}",
          "if (data.matches && data.matches.length) {",
          "  pm.environment.set('matchId', data.matches[0].matchId || data.matches[0]._id);",
          "}",
          "",
          "// Dating comment variables",
          "if (data.comment?._id) {",
          "  pm.environment.set('commentId', data.comment._id);",
          "}",
          "if (data.comments && data.comments.length) {",
          "  pm.environment.set('commentId', data.comments[0]._id || data.comments[0].id);",
          "}",
          "",
          "// Dating report variables",
          "if (data.reportId) {",
          "  pm.environment.set('reportId', data.reportId);",
          "}"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "BASE_URL",
      "value": "http://localhost:3000"
    },
    {
      "key": "ACCESS_TOKEN",
      "value": ""
    },
    {
      "key": "REFRESH_TOKEN",
      "value": ""
    },
    {
      "key": "ADMIN_ACCESS_TOKEN",
      "value": ""
    },
    {
      "key": "ADMIN_REFRESH_TOKEN",
      "value": ""
    },
    {
      "key": "SUBADMIN_ACCESS_TOKEN",
      "value": ""
    },
    {
      "key": "SUBADMIN_REFRESH_TOKEN",
      "value": ""
    },
    {
      "key": "USER_ACCESS_TOKEN",
      "value": ""
    },
    {
      "key": "USER_REFRESH_TOKEN",
      "value": ""
    },
    {
      "key": "USER_ID",
      "value": ""
    },
    {
      "key": "POST_ID",
      "value": ""
    },
    {
      "key": "STORY_ID",
      "value": ""
    },
    {
      "key": "SUBADMIN_ID",
      "value": ""
    },
    {
      "key": "ADMIN_ID",
      "value": ""
    },
    {
      "key": "PENDING_VERIFICATION_USER_ID",
      "value": ""
    },
    {
      "key": "PENDING_REPORT_ID",
      "value": ""
    },
    {
      "key": "CHAT_ID",
      "value": ""
    },
    {
      "key": "MESSAGE_ID",
      "value": ""
    },
    {
      "key": "MESSAGE_REQUEST_ID",
      "value": ""
    },
    {
      "key": "FOLLOW_REQUEST_ID",
      "value": ""
    },
    {
      "key": "CALL_ID",
      "value": ""
    },
    {
      "key": "NOTIFICATION_ID",
      "value": ""
    },
    {
      "key": "MODERATION_ID",
      "value": ""
    },
    {
      "key": "targetUserId",
      "value": ""
    },
    {
      "key": "matchId",
      "value": ""
    },
    {
      "key": "commentId",
      "value": ""
    },
    {
      "key": "photoIndex",
      "value": "0"
    },
    {
      "key": "videoIndex",
      "value": "0"
    },
    {
      "key": "reportId",
      "value": ""
    }
  ]
}
