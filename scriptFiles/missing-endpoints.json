{
  "missing_endpoints": [
    {
      "category": "User Status",
      "endpoints": [
        {
          "name": "Update Status",
          "method": "PUT",
          "url": "{{BASE_URL}}/user/status",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}", "Content-Type: application/json"],
          "body": {
            "isOnline": true,
            "status": "Available",
            "privacySettings": {
              "showOnlineStatus": true,
              "showLastSeen": true
            }
          }
        },
        {
          "name": "Get User Status",
          "method": "GET",
          "url": "{{BASE_URL}}/user/status/{{USER_ID}}",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Online Users",
          "method": "GET",
          "url": "{{BASE_URL}}/user/status/online",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Recently Active Users",
          "method": "GET",
          "url": "{{BASE_URL}}/user/status/recent",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Batch User Statuses",
          "method": "POST",
          "url": "{{BASE_URL}}/user/status/batch",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}", "Content-Type: application/json"],
          "body": {
            "userIds": ["{{USER_ID}}"]
          }
        },
        {
          "name": "Update Privacy Settings",
          "method": "PUT",
          "url": "{{BASE_URL}}/user/status/privacy",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}", "Content-Type: application/json"],
          "body": {
            "showOnlineStatus": true,
            "showLastSeen": true
          }
        },
        {
          "name": "Get Typing Users in Chat",
          "method": "GET",
          "url": "{{BASE_URL}}/user/chats/{{CHAT_ID}}/typing",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Status Stats",
          "method": "GET",
          "url": "{{BASE_URL}}/user/status/stats",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        }
      ]
    },
    {
      "category": "Message Requests",
      "endpoints": [
        {
          "name": "Send Message Request",
          "method": "POST",
          "url": "{{BASE_URL}}/user/message-requests/{{USER_ID}}",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Pending Requests",
          "method": "GET",
          "url": "{{BASE_URL}}/user/message-requests/pending",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Sent Requests",
          "method": "GET",
          "url": "{{BASE_URL}}/user/message-requests/sent",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Accept Message Request",
          "method": "POST",
          "url": "{{BASE_URL}}/user/message-requests/{{MESSAGE_REQUEST_ID}}/accept",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Reject Message Request",
          "method": "POST",
          "url": "{{BASE_URL}}/user/message-requests/{{MESSAGE_REQUEST_ID}}/reject",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Delete Message Request",
          "method": "DELETE",
          "url": "{{BASE_URL}}/user/message-requests/{{MESSAGE_REQUEST_ID}}",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Message Request Details",
          "method": "GET",
          "url": "{{BASE_URL}}/user/message-requests/{{MESSAGE_REQUEST_ID}}",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Message Request Stats",
          "method": "GET",
          "url": "{{BASE_URL}}/user/message-requests/stats",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Request Between Users",
          "method": "GET",
          "url": "{{BASE_URL}}/user/message-requests/between/{{USER_ID}}",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        }
      ]
    },
    {
      "category": "Messages",
      "endpoints": [
        {
          "name": "Send Message",
          "method": "POST",
          "url": "{{BASE_URL}}/user/chats/{{CHAT_ID}}/messages",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"],
          "body": "formdata",
          "formdata": [
            {"key": "content", "value": "Hello! How are you?", "type": "text"},
            {"key": "messageType", "value": "text", "type": "text"},
            {"key": "file", "type": "file", "src": []}
          ]
        },
        {
          "name": "Get Chat Messages",
          "method": "GET",
          "url": "{{BASE_URL}}/user/chats/{{CHAT_ID}}/messages?page=1&limit=20",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Mark Messages as Read",
          "method": "POST",
          "url": "{{BASE_URL}}/user/chats/{{CHAT_ID}}/messages/read",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}", "Content-Type: application/json"],
          "body": {
            "messageIds": ["{{MESSAGE_ID}}"]
          }
        },
        {
          "name": "Edit Message",
          "method": "PUT",
          "url": "{{BASE_URL}}/user/messages/{{MESSAGE_ID}}",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}", "Content-Type: application/json"],
          "body": {
            "content": "Updated message content"
          }
        },
        {
          "name": "Delete Message",
          "method": "DELETE",
          "url": "{{BASE_URL}}/user/messages/{{MESSAGE_ID}}",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "React to Message",
          "method": "POST",
          "url": "{{BASE_URL}}/user/messages/{{MESSAGE_ID}}/react",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}", "Content-Type: application/json"],
          "body": {
            "reaction": "üëç"
          }
        },
        {
          "name": "Remove Reaction",
          "method": "DELETE",
          "url": "{{BASE_URL}}/user/messages/{{MESSAGE_ID}}/react",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Search Messages",
          "method": "GET",
          "url": "{{BASE_URL}}/user/chats/{{CHAT_ID}}/messages/search?query=hello&page=1&limit=20",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Chat Media",
          "method": "GET",
          "url": "{{BASE_URL}}/user/chats/{{CHAT_ID}}/media?page=1&limit=20",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        },
        {
          "name": "Get Message Details",
          "method": "GET",
          "url": "{{BASE_URL}}/user/messages/{{MESSAGE_ID}}",
          "headers": ["Authorization: Bearer {{USER_ACCESS_TOKEN}}"]
        }
      ]
    },
    {
      "category": "Missing SubAdmin Endpoints",
      "endpoints": [
        {
          "name": "SubAdmin Resend OTP",
          "method": "POST",
          "url": "{{BASE_URL}}/subadmin/auth/resend-otp",
          "headers": ["Content-Type: application/json"],
          "body": {
            "phoneNumber": "8887776666"
          }
        }
      ]
    },
    {
      "category": "Missing User Endpoints",
      "endpoints": [
        {
          "name": "User Resend Phone OTP",
          "method": "POST",
          "url": "{{BASE_URL}}/user/auth/resend-otp",
          "headers": ["Content-Type: application/json"],
          "body": {
            "phoneNumber": "7776665555"
          }
        }
      ]
    },
    {
      "category": "Additional Endpoints",
      "endpoints": [
        {
          "name": "Root Endpoint",
          "method": "GET",
          "url": "{{BASE_URL}}/",
          "headers": []
        }
      ]
    }
  ],
  "issues_identified": [
    "Missing SubAdmin resend OTP endpoint in routes",
    "Missing User resend phone OTP endpoint in routes", 
    "Missing User Status management endpoints",
    "Missing Message Request endpoints",
    "Missing Message management endpoints",
    "Missing Root endpoint in Postman collection",
    "SubAdmin approval route has incorrect method (GET instead of PATCH)",
    "Missing environment variables for MESSAGE_REQUEST_ID and MESSAGE_ID"
  ],
  "recommendations": [
    "Add missing routes to respective route files",
    "Update Postman collection with all missing endpoints",
    "Add proper test scripts to capture dynamic IDs",
    "Fix route method inconsistencies",
    "Add proper error handling in controllers",
    "Implement proper validation for all endpoints"
  ]
}
