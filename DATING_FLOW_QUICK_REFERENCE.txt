â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   DATING FLOW - QUICK REFERENCE                      â•‘
â•‘                        Visual Guide                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                          THE 6 PHASES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    1. SETUP       2. DISCOVER    3. INTERACT    4. MATCH
       ğŸ“¸             ğŸ”             â¤ï¸             ğŸ’‘
    Upload Photos   Search         Like/          Mutual
    Set Prefs      Filter by:     Dislike        Like!
    Activate       - Distance     Comment        Auto-Match
                   - Age                         Created
                   - Gender
                   
    5. MANAGE      6. SAFETY
       ğŸ’¬             ğŸ›¡ï¸
    View Matches   Block
    Chat           Report
    Meet Up        Protect

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    PHASE 1: PROFILE SETUP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Step 1: Upload Media
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /user/dating/photos          Max 5 photos
POST /user/dating/videos          Max 5 videos
PUT  /user/dating/photos/order    Reorder photos

Step 2: Set Preferences
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PUT /user/dating/preferences
{
  "hereTo": "Dating",              What you want
  "wantToMeet": "Woman",           Gender preference
  "ageMin": 25, "ageMax": 35,      Age range
  "distanceMax": 50,               Search radius (km)
  "languages": ["English"]         Languages
}

Step 3: Activate
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PUT /user/dating/toggle
{ "isActive": true }               Profile now visible! âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    PHASE 2: DISCOVERY & SEARCH
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Search Profiles
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GET /user/dating/profiles?distanceMax=50&filter=near_by&page=1

Filters Available:
  all               All active profiles
  near_by           Sorted by distance
  new_dater         Recently joined (< 7 days)
  same_interests    Common interests

Additional Filters:
  search            Search by name/username
  wantToMeet        Gender (Man/Woman/Everyone)
  ageMin, ageMax    Age range
  hereTo            Intent (Dating/Friends/etc.)
  languages         Language match
  city, country     Location filter

Response:
  â†’ List of profiles with:
    - Photos, videos
    - Bio, interests
    - Distance from you
    - Age, gender
    - Preferences

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    PHASE 3: INTERACTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Option 1: Like Profile â¤ï¸
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /user/dating/profiles/{profileId}/like
{ "comment": "Love your profile!" }

What Happens:
  â†’ DatingInteraction created
  â†’ Check if they liked you back
      â”œâ”€ NO  â†’ Saved as "pending"
      â””â”€ YES â†’ ğŸ’¥ MATCH CREATED!

Option 2: Dislike Profile ğŸ‘
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /user/dating/profiles/{profileId}/dislike

What Happens:
  â†’ Profile dismissed
  â†’ Won't appear again
  â†’ Any match ends

Option 3: Comment ğŸ’¬
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /user/dating/profiles/{profileId}/comments
{ "text": "Your travel photos are amazing!" }

View Comments:
GET /user/dating/profiles/{profileId}/comments?page=1

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    PHASE 4: MATCHING MAGIC ğŸ’‘
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

How Matches Happen:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Timeline Example:

Monday 10:00 AM - Alice likes Bob
  â†’ DatingInteraction: { Alice â†’ Bob, action: "like", status: "pending" }
  â†’ Response: { isMatch: false }

Monday 2:00 PM - Bob likes Alice back
  â†’ System detects mutual like!
  â†’ Creates DatingMatch: { Alice â†” Bob, status: "active" }
  â†’ Updates both interactions: status = "matched"
  â†’ Response: { isMatch: true, matchId: "..." }
  â†’ ğŸ‰ IT'S A MATCH!

Both users now see each other in matches list!

Match Data Structure:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{
  matchedUser: {
    fullName, photo, bio, interests, location
  },
  matchedAt: "2025-11-20T14:00:00Z",
  status: "active",
  likeComment: "Love your profile!"
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    PHASE 5: MATCH MANAGEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

View Your Matches
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
GET /user/dating/matches?status=active&page=1

Status Options:
  active    Current matches (can chat)
  blocked   Users you blocked
  ended     Ended matches (history)

What You Can Do:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… View full profile
âœ… Start chatting (integrate with chat module)
âœ… Plan to meet
âœ… Build relationship

Or...
âŒ Block user (ends match)
âŒ Report user
âŒ Unmatch (dislike to end)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    PHASE 6: SAFETY FEATURES ğŸ›¡ï¸
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Block a User
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /user/dating/profiles/{userId}/block

Effects:
  âœ… User can't see your profile
  âœ… You can't see their profile
  âœ… Any match ends immediately
  âœ… Social connections removed
  âœ… They can't contact you

Unblock:
DELETE /user/dating/profiles/{userId}/block

Report a User
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
POST /user/dating/profiles/{userId}/report
{ "description": "Inappropriate content" }

Flow:
  User Reports â†’ Pending Review â†’ Admin Action
  
Admin Actions:
  - Warning
  - Content removal
  - Account suspension
  - No action (invalid report)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    INTERACTION STATE DIAGRAM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

You Like Someone:
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ DatingInteractionâ”‚
                â”‚  status: pendingâ”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
              Do they like you back?
                        â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚                         â”‚
          NO                        YES
           â”‚                         â”‚
           â–¼                         â–¼
    Stay "pending"            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    Wait for response         â”‚ MATCH CREATEDâ”‚
                              â”‚ status: matchedâ”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                            View in /matches
                            Start chatting! ğŸ’¬

You Dislike Someone:
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ DatingInteractionâ”‚
                â”‚ status: dismissedâ”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
              Profile hidden
              Won't appear again

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    DATABASE MODELS OVERVIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

User.dating
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{
  photos: [{ url, order, uploadedAt }],      Max 5
  videos: [{ url, duration, order }],        Max 5
  isDatingProfileActive: true/false,         Visibility
  preferences: {
    hereTo: "Dating",
    wantToMeet: "Woman",
    ageRange: { min: 25, max: 35 },
    languages: ["English"],
    distanceRange: { min: 0, max: 50 }
  }
}

DatingInteraction (Your Actions)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{
  user: You,
  targetUser: Them,
  action: "like" or "dislike",
  status: "pending" or "matched" or "dismissed",
  comment: { text, createdAt },
  matchedAt: Date
}

DatingMatch (Mutual Likes)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{
  userA: User1 (sorted ID),
  userB: User2 (sorted ID),
  status: "active" or "blocked" or "ended",
  matchedBy: "mutual_like",
  matchedAt: Date
}

DatingProfileComment
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{
  user: Commenter,
  targetUser: Profile owner,
  text: "Comment text",
  likes: [{ user, likedAt }],
  likesCount: Number
}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    COMPLETE API SEQUENCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Setup Phase:
  1. POST /user/dating/photos              Upload media
  2. PUT  /user/dating/preferences         Set preferences
  3. PUT  /user/dating/toggle              Activate profile

Discovery Phase:
  4. GET  /user/dating/profiles            Browse profiles

Interaction Phase:
  5. POST /user/dating/profiles/{id}/like  Like someone
  6. POST /user/dating/profiles/{id}/dislike   Dislike
  7. POST /user/dating/profiles/{id}/comments  Comment

Match Phase:
  8. GET  /user/dating/matches             View matches

Safety Phase:
  9. POST /user/dating/profiles/{id}/block Report
 10. POST /user/dating/profiles/{id}/report Block

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    REAL EXAMPLE: ALICE & BOB
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Monday 10:00 AM
  Alice: POST /profiles/{BOB_ID}/like
  Result: { isMatch: false }
  Status: Waiting for Bob â³

Monday 2:00 PM
  Bob: POST /profiles/{ALICE_ID}/like
  Result: { isMatch: true, matchId: "..." }
  Status: MATCHED! ğŸ’‘

Monday 2:05 PM
  Alice: GET /matches?status=active
  Result: Sees Bob in matches âœ…

Monday 3:00 PM
  Alice & Bob start chatting ğŸ’¬
  Plan coffee date â˜•
  Success story! ğŸ‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    KEY CONCEPTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Mutual Likes = Match
  Both users MUST like each other
  Match created automatically
  Both see each other in /matches

Distance-Based Search
  Uses Haversine formula
  Calculates km between lat/lng
  Filters by distanceMax

Three-Way Blocking
  blockedUsers[]    Who I blocked
  blockedBy[]       Who blocked me
  Both checked in all interactions

Profile Visibility
  isDatingProfileActive = true   Visible âœ…
  isDatingProfileActive = false  Hidden âŒ

Status Flow
  Like:     pending â†’ matched (if mutual)
  Dislike:  pending â†’ dismissed
  Match:    active â†’ blocked/ended

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    TESTING QUICK START
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Seed Test Data
   node datingSeed.js

2. Login as Alice
   Phone: +91 5550001111
   OTP: 123456

3. Search Profiles
   GET /user/dating/profiles?distanceMax=50&filter=near_by
   â†’ See Bob, Charlie, Diana, Henry, Grace

4. Like Bob (Creates Match!)
   POST /user/dating/profiles/{BOB_ID}/like
   â†’ Bob already liked Alice
   â†’ Match created! ğŸ’‘

5. View Matches
   GET /user/dating/matches?status=active
   â†’ See Bob âœ…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    DOCUMENTATION FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“„ DATING_FLOW_COMPLETE_GUIDE.md     â† Full detailed guide (65 pages)
ğŸ“„ DATING_API_TESTING_GUIDE.md       â† Step-by-step testing
ğŸ“„ DATING_TEST_PROFILES.txt          â† Test user quick reference
ğŸ“„ DATING_SEED_README.md             â† Seed script info
ğŸ“„ docs/dating-api.md                â† API reference
ğŸ“„ datingSeed.js                     â† Seed script

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For complete details, see: DATING_FLOW_COMPLETE_GUIDE.md

